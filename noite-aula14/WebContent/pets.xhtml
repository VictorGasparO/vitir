<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"> 

<h:head></h:head> 
<h:body>
	<h:messages layout="table" globalOnly="true" showDetail="false" tooltip="true"/>
	<h:form id="form1">
		<table>
			<tr>
				<td>Id:</td>
				<td><h:outputText value="#{petBean.petAtual.id}"/></td>
			</tr>
			<tr>
				<td>Nome:</td>
				<td>
					<h:inputText id="txtNome" value="#{petBean.petAtual.nome}"/>
					<h:message for="txtNome" showSummary="true" showDetail="false" tooltip="true"/>
				</td>
			</tr>
			<tr>
				<td>Nascimento:</td>
				<td>
					<h:inputText value="#{petBean.petAtual.nascimento}" 
								 id="txtNascimento"
								 validator="#{petBean.validaDataNascimento}">
						<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
					</h:inputText>
					<h:message for="txtNascimento" showSummary="true" showDetail="false" tooltip="true"/>
				</td>
			</tr>
			<tr>
				<td>Peso:</td>
				<td>
					<h:inputText value="#{petBean.petAtual.peso}" id="txtPeso">
							<!-- validatorMessage="Por favor informe um peso entre 0.1 e 50 kilos">
						<f:validateDoubleRange minimum="0.1" maximum="50.0"/> -->
					</h:inputText>
					<h:message for="txtPeso" showSummary="true" showDetail="false"/>
				</td>
			</tr>
			<tr>
				<td><h:commandButton value="Adicionar" action="#{petBean.adicionar}"/></td>
				<td><h:commandButton value="Pesquisar" action="#{petBean.pesquisar}"/></td>
			</tr>												
		</table>
		
		<h:dataTable value="#{petBean.petsEncontrados}" var="p" border="2">
			<h:column>#{p.id}</h:column>
			<h:column>#{p.nome}</h:column>
			<h:column>
				<h:outputText value="#{p.nascimento}">
					<f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Sao_Paulo"/>
				</h:outputText>
			</h:column>
			<h:column>#{p.peso}</h:column>
		</h:dataTable>
	</h:form> 
</h:body> 
</html>
